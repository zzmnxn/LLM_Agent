# ✈️ 여행 계획 AI 비서 - 완전 상세 파이프라인 v2.0

---

## 🎯 업데이트된 기능

### 🆕 추가된 Tool (3개)

1. **search_safety_warnings** - 현지 위험 요소 경고
2. **convert_currency_budget** - 환율 기반 예산 환산
3. **generate_weather_based_schedule** - 날씨 기반 일정 최적화

---

## 📊 전체 시스템 아키텍처 (Enhanced)

```
┌─────────────────────────────────────────────────────────────────┐
│                         사용자 입력                               │
│      "3박 4일 제주도 여행 계획 짜줘, 예산 50만원, 해산물 좋아해"  │
└──────────────────────┬──────────────────────────────────────────┘
                       │
                       ▼
┌─────────────────────────────────────────────────────────────────┐
│                 여행 계획 Agent Core (Enhanced)                   │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  Phase 1: 입력 분석 (GPT-4)                              │   │
│  │     ✓ 목적지: 제주도                                     │   │
│  │     ✓ 기간: 3박 4일                                      │   │
│  │     ✓ 예산: 50만원                                       │   │
│  │     ✓ 선호: 해산물                                       │   │
│  └─────────────────────────────────────────────────────────┘   │
│                       │                                          │
│                       ▼                                          │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  Phase 2: 다차원 정보 수집 (9개 Tool 병렬 실행)          │   │
│  │                                                          │   │
│  │  [기본 정보]                                             │   │
│  │  Tool 1: D-Day 계산                                      │   │
│  │  Tool 2: 날씨 검색 (Tavily)                              │   │
│  │                                                          │   │
│  │  [여행 정보]                                             │   │
│  │  Tool 3: 맛집 검색 (해산물 필터)                         │   │
│  │  Tool 4: 관광 명소 검색 (대중교통)                       │   │
│  │  Tool 5: 교통편 정보 (버스/택시)                         │   │
│  │                                                          │   │
│  │  [안전 & 금융]                                           │   │
│  │  Tool 6: 위험 요소 검색 ⭐ NEW                           │   │
│  │  Tool 7: 환율 조회 (해외용)                              │   │
│  │  Tool 8: 예산 환산 ⭐ NEW                                │   │
│  │                                                          │   │
│  │  [최적화]                                                │   │
│  │  Tool 9: 날씨 기반 일정 최적화 ⭐ NEW                    │   │
│  └─────────────────────────────────────────────────────────┘   │
│                       │                                          │
│                       ▼                                          │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  Phase 3: 예산 스마트 계산                               │   │
│  │     • 기본 배분: 숙박 30%, 식비 25%, 교통 15%...        │   │
│  │     • 환율 반영: 해외 결제 수수료 포함                   │   │
│  │     • 시즌 보정: 비수기 20% 할인 적용                    │   │
│  │     • 예비비: 예상치 못한 지출 10%                       │   │
│  └─────────────────────────────────────────────────────────┘   │
│                       │                                          │
│                       ▼                                          │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  Phase 4: 지능형 일정 생성                               │   │
│  │     • 날씨 기반: 맑은 날 → 야외, 비오는 날 → 실내       │   │
│  │     • 동선 최적화: 지역별 묶음 방문                      │   │
│  │     • 시간 배분: 이동 시간 + 체류 시간 계산              │   │
│  │     • 혼잡도 회피: 주말/평일 고려                        │   │
│  └─────────────────────────────────────────────────────────┘   │
│                       │                                          │
│                       ▼                                          │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  Phase 5: 안전 정보 통합                                 │   │
│  │     ⚠️ 위험 요소:                                        │   │
│  │     • 1월 강풍 주의보 (평균 풍속 15m/s)                  │   │
│  │     • 해안가 파도 높음 (2-3m)                            │   │
│  │     • 등산로 결빙 가능성                                 │   │
│  │                                                          │   │
│  │     💡 안전 팁:                                          │   │
│  │     • 방풍 재킷 필수                                     │   │
│  │     • 등산화 or 미끄럼 방지 신발                         │   │
│  │     • 해안 관광 시 안전선 준수                           │   │
│  └─────────────────────────────────────────────────────────┘   │
└───────────────────────┬─────────────────────────────────────────┘
                        │
                        ▼
┌─────────────────────────────────────────────────────────────────┐
│                    최종 출력 (Enhanced)                          │
│                                                                  │
│  📄 여행 계획서 (8페이지 분량)                                   │
│  ├─ 1페이지: 여행 개요 + D-Day                                  │
│  ├─ 2페이지: 예산 배분표 (환율 반영)                            │
│  ├─ 3페이지: 날씨별 준비물                                      │
│  ├─ 4-6페이지: 3박 4일 상세 일정표                              │
│  ├─ 7페이지: 맛집/명소 지도                                     │
│  └─ 8페이지: 안전 정보 + 비상 연락처                            │
└─────────────────────────────────────────────────────────────────┘
```

---

## 🔍 초상세 파이프라인 (Phase별 분석)

### Phase 1: 입력 분석 및 파싱 (1초)

> **Step 1.1: 자연어 입력 파싱 (NLP)**

**입력 예시:**
```
"3박 4일 제주도 여행 계획 짜줘, 예산 50만원, 해산물 좋아해, 1월 15일 출발"
```

**GPT-4 파싱 결과:**
```json
{
  "destination": {
    "location": "제주도",
    "country": "한국",
    "type": "국내"
  },
  "duration": {
    "nights": 3,
    "days": 4,
    "start_date": "2025-01-15",
    "end_date": "2025-01-18"
  },
  "budget": {
    "total": 500000,
    "currency": "KRW",
    "per_person": true
  },
  "preferences": {
    "food": ["해산물"],
    "activities": null,
    "accommodation": null
  },
  "constraints": {
    "no_car_rental": false,
    "mobility": "flexible"
  }
}
```

> **Step 1.2: 누락 정보 확인**

**체크리스트:**
- ✅ 목적지: OK (제주도)
- ✅ 날짜: OK (2025-01-15 ~ 01-18)
- ✅ 예산: OK (500,000원)
- ✅ 선호: OK (해산물)
- ⚠️ 교통수단: 미정 → 대중교통 우선 가정
- ⚠️ 숙소 등급: 미정 → 중저가 게스트하우스 가정
- ⚠️ 인원: 미정 → 1인 가정

**결과:** 추가 정보 없이 진행 가능

---

### Phase 2: 다차원 정보 수집 (병렬 실행, 3-5초)

#### Step 2.1: D-Day 계산 (로컬 실행)

**Tool 코드:**
```python
@tool
def calculate_d_day(travel_date: str) -> dict:
    """여행 D-Day 및 준비 기간 계산"""
    today = datetime.now().date()  # 2024-12-02
    target = datetime.strptime(travel_date, "%Y-%m-%d").date()
    delta = (target - today).days
    
    preparation_time = {
        "weeks": delta // 7,
        "urgency": "여유" if delta > 30 else 
                  "보통" if delta > 14 else "급함"
    }
    
    return {
        "d_day": delta,
        "formatted": f"D-{delta}",
        "preparation": preparation_time
    }
```

**실행 결과:**
```json
{
  "d_day": 44,
  "formatted": "D-44",
  "preparation": {
    "weeks": 6,
    "urgency": "여유"
  }
}
```

**📌 Observation:**
> ✅ D-44: 여행까지 6주 여유 있음 (천천히 준비 가능)

---

#### Step 2.2: 날씨 정보 검색 (Tavily API)

**Tool 코드:**
```python
@tool
def search_weather(location: str, date: str) -> dict:
    """특정 날짜의 날씨 예보 + 역사 데이터"""
    query = f"{location} {date} 날씨 예보 기온 강수"
    
    # Tavily 검색
    results = tavily_search(query, max_results=5)
    
    # GPT-4로 정보 추출 및 정리
    weather_data = llm.invoke(f"""
    다음 검색 결과에서 날씨 정보를 추출하세요:
    {results}
    
    출력 형식 (JSON):
    {{
      "temperature": {{"avg": 7, "min": 3, "max": 12}},
      "precipitation": 30,  # %
      "wind": {{"speed": 15, "direction": "북서풍"}},
      "conditions": ["맑음", "가끔 구름"],
      "warnings": ["강풍 주의"]
    }}
    """)
    
    return weather_data
```

**Tavily 검색 쿼리:**
```
"제주도 2025년 1월 중순 날씨 예보 기온 강수"
```

**Tavily 응답 (TOP 5):**
| 순위 | 제목 | 스코어 |
|-----|------|--------|
| 1 | 제주도 1월 날씨 총정리 | 0.95 |
| 2 | 2025년 1월 제주 기상 예보 | 0.92 |
| 3 | 제주도 겨울 여행 준비물 | 0.89 |

**GPT-4 정보 추출 결과:**
```json
{
  "temperature": {
    "avg": 7,
    "min": 3,
    "max": 12,
    "feels_like": 0
  },
  "precipitation": 30,
  "wind": {
    "speed": 15,
    "direction": "북서풍",
    "gust": 20
  },
  "conditions": ["맑음", "가끔 구름", "강풍"],
  "warnings": [
    "강풍 주의보 (평균 풍속 15m/s)",
    "체감온도 영하 (방한 필수)"
  ],
  "clothing_tips": [
    "패딩 (두꺼운 것)",
    "목도리 & 장갑",
    "방풍 재킷",
    "털모자"
  ]
}
```

**📌 Observation:**
> 🌤️ **제주도 1월 중순 날씨**
> - 평균 기온: 7°C (최저 3°C, 최고 12°C)
> - 체감온도: 0°C (강풍으로 더 춥게 느껴짐)
> - 강수 확률: 30%
> - 풍속: 평균 15m/s (순간 최대 20m/s)
> - ⚠️ 강풍 주의보 예상
> - 📦 필수 준비물: 패딩, 목도리, 방풍재킷, 장갑

---

#### Step 2.3: 맛집 검색 (해산물 필터)

**Tavily 검색 결과 (TOP 3):**

**1️⃣ 올레국수**
- 📍 위치: 제주 서귀포시 성산읍 일출로 284
- 🍽️ 대표 메뉴: 전복죽, 성게미역국
- 💰 가격: 10,000 - 15,000원 (평균 12,000원)
- ⏰ 영업시간: 09:00-20:00 (연중무휴)
- ⭐ 평점: 4.6/5.0
- 🚌 교통: 201번 버스 '성산일출봉' 하차 후 도보 5분
- 💡 포인트:
  - 성산일출봉 도보 5분
  - 전복 직접 양식
  - 현지인 단골집

**2️⃣ 해녀의 집**
- 📍 위치: 제주 제주시 구좌읍 해녀박물관로 26
- 🍽️ 대표 메뉴: 활어회 세트, 전복돌솥밥
- 💰 가격: 35,000 - 60,000원 (평균 45,000원)
- ⏰ 영업시간: 11:00-21:00 (화요일 휴무)
- ⭐ 평점: 4.8/5.0
- 🚌 교통: 201번 버스 '해녀박물관' 하차
- 💡 포인트:
  - 신선한 활어회 (당일 조업)
  - 성게미역국 무한 리필
  - 오션뷰 좌석

**3️⃣ 동문시장 해산물거리**
- 📍 위치: 제주 제주시 관덕로14길 20
- 🍽️ 대표 메뉴: 각종 해산물 (오징어, 문어, 새우...)
- 💰 가격: 15,000 - 30,000원 (평균 20,000원)
- ⏰ 영업시간: 10:00-22:00 (점포별 상이)
- ⭐ 평점: 4.3/5.0
- 🚌 교통: 100번 버스 '동문시장' 하차
- 💡 포인트:
  - 다양한 선택지
  - 가성비 최고
  - 관광객 & 현지인 모두 이용

**📌 예산 배분 추천:**
- Day 1-3 점심: 동문시장/올레국수 (1-2만원)
- Day 2 저녁: 해녀의 집 (특별식, 4만5천원)
- **총 식비: 약 12만원** (예산 범위 내)

---

#### Step 2.4: 관광 명소 검색

**대중교통으로 갈 수 있는 명소:**

| 명소 | 버스 | 소요시간 | 입장료 | 체류시간 | 날씨 영향 |
|-----|------|---------|--------|---------|----------|
| 🌋 성산일출봉 | 201번 (30분 간격) | 1시간 | 5,000원 | 2시간 | ⚠️ 강풍 위험 |
| 🏛️ 제주민속촌 | 181번 급행 (1시간 간격) | 40분 | 15,000원 | 2.5시간 | ✅ 실내 많음 |
| 🌳 한라수목원 | 475번 (20분 간격) | 25분 | 무료 | 1.5시간 | ✅ 숲이 보호 |
| 🏪 동문시장 | 100번 (10분 간격) | 10분 | 무료 | 2시간 | ✅ 실내/아케이드 |

**상세 정보:**

**1️⃣ 성산일출봉 ⭐⭐⭐⭐⭐**
- 🚌 버스: 201번 (30분 간격)
- 🕐 소요: 제주시에서 1시간
- 💰 입장료: 5,000원
- ⏱️ 체류: 2시간
- ⚠️ **주의사항:**
  - 강풍 시 등반 위험
  - 등산화 권장
  - 정상까지 30분 소요
- 🌤️ 최적 방문 시간: 오전 (9-11시)

**2️⃣ 제주민속촌 ⭐⭐⭐⭐**
- 🚌 버스: 181번 급행 (1시간 간격)
- 🕐 소요: 40분
- 💰 입장료: 15,000원
- ⏱️ 체류: 2.5시간
- ✅ **장점:**
  - 실내 전시 많음 (날씨 영향 적음)
  - 전통 공예 체험 가능
  - 한복 대여 (10,000원)
  - 카페 & 식당 운영

**3️⃣ 한라수목원 ⭐⭐⭐**
- 🚌 버스: 475번 (20분 간격)
- 🕐 소요: 25분
- 💰 입장료: **무료**
- ⏱️ 체류: 1.5시간
- ✅ **장점:**
  - 무료 입장
  - 포토존 많음
  - 반려동물 동반 가능
  - 숲이 바람 차단

---

#### Step 2.5: 교통편 상세 정보 ⭐ NEW

**🚌 제주도 교통 정보**

**버스 요금:**
- 일반: 1,200원
- 급행: 2,500원
- 야간: 1,400원

**💳 제주패스 (강력 추천!):**
| 기간 | 가격 | 혜택 |
|-----|------|------|
| 1일권 | 5,000원 | 버스 무제한 + 관광지 할인 |
| 2일권 | 9,000원 | 버스 무제한 + 관광지 할인 |
| 3일권 | 12,000원 | 버스 무제한 + 관광지 할인 |
| **4일권** | **15,000원** | **버스 무제한 + 관광지 할인** |

**💡 제주패스 4일권 구매 시:**
- 예상 절약 금액: 약 30,000원
- 관광지 할인: 10-30%

**🚕 택시:**
- 기본요금: 3,800원
- km당: 1,000원
- 야간 할증: 20%
- **예상 비용:**
  - 공항 ↔ 시내: 5,000원
  - 시내 ↔ 성산: 35,000원

**주요 버스 노선:**
- **100번:** 시내 순환 (동문시장)
- **181번:** 급행 (공항-민속촌)
- **201번:** 동부권 (성산일출봉)
- **475번:** 서부권 (한라수목원)

---

#### Step 2.6: 안전 정보 & 위험 요소 검색 ⭐ NEW

**⚠️ 위험 요소**

**1️⃣ 날씨 관련 위험 (중간 수준)**

| 위험 요소 | 세부 사항 | 영향 | 예방 조치 |
|----------|----------|------|----------|
| 강풍 주의보 | 평균 15m/s, 최대 20m/s | 성산일출봉 등반 위험 | 등산 시 난간 잡기, 강풍 예보 시 취소 |
| 체감온도 영하 | 기온 7°C, 체감 0°C | 저체온증 위험 | 방한복 필수, 2시간마다 실내 휴식 |
| 등산로 결빙 | 한라산 등산로 일부 | 미끄럼 사고 | 아이젠 또는 미끄럼방지 신발 |

**2️⃣ 지역 특성**
- **해안가:** 파도 높음 (2-3m) → 안전선 준수
- **산악 지역:** 한라산 일부 등산로 폐쇄 → 사전 확인 필수

**3️⃣ 겨울철 필수 준비물**
- ✅ 패딩 (두꺼운 것) 필수
- ✅ 목도리 & 장갑 (방풍 기능)
- ✅ 보온병 (따뜻한 음료)
- ✅ 핫팩 여러 개
- ✅ 등산화 or 미끄럼방지 신발
- ✅ 선크림 (겨울 자외선도 강함)

**4️⃣ 비상 연락처**
- 🚨 긴급: **112** / **119**
- 👮 관광경찰: **064-710-6665**
- 📞 관광안내: **064-740-6000**
- 🏥 제주대병원: **064-717-1114**
- 🏥 서귀포의료원: **064-730-3000**

**5️⃣ 안전 팁**
- 여행자 보험 가입 권장
- 날씨 앱 수시 확인 (기상청)
- 긴급 상황 시 112 (무료, 외국어 가능)
- 혼자 등산 자제, 2명 이상 동행
- 일몰 시간 확인 (17:30경)

---

#### Step 2.7: 환율 기반 예산 환산 ⭐ NEW

**국내 여행 예시:**
```json
{
  "original": 500000,
  "converted": 500000,
  "currency": "KRW",
  "note": "국내 여행 - 환전 불필요"
}
```

**해외 여행 예시 (예: 일본):**
```json
{
  "original": 500000,
  "converted": 47619,
  "rate": 10.5,
  "from_currency": "KRW",
  "to_currency": "JPY",
  "fees": 952,
  "total_needed": 48571
}
```

**📌 Observation:**
> 💰 예산: 500,000원 (국내 여행 - 환전 불필요)

---

#### Step 2.8: 날씨 기반 일정 최적화 ⭐ NEW

**입력 데이터:**
- Day 1: 흐림, 소나기 30%
- Day 2: 맑음, 강풍 주의보
- Day 3: 맑음, 바람 약함 ⭐ 최적!
- Day 4: 맑음

**GPT-4 최적화 결과:**

| 날짜 | 날씨 | 활동 | 이유 | Plan B |
|-----|------|------|------|--------|
| **Day 1** | 흐림, 비 30% | 제주민속촌 + 동문시장 | 실내 활동 배치 | 아쿠아플라넷 + 쇼핑센터 |
| **Day 2** | 맑음, 강풍 | 섭지코지 산책 + 카페 | 강풍으로 등반은 Day 3으로 연기 | 아쿠아리움 + 실내 명소 |
| **Day 3** | 맑음, 바람 약함 | 성산일출봉 + 한라수목원 | 날씨 최상, 야외 활동 집중 | 체력 부족 시 수목원만 |
| **Day 4** | 맑음 | 기념품 쇼핑 + 공항 | 출발일, 여유있게 마무리 | - |

**📌 최적화 포인트:**
- ✅ 강풍 위험한 등반 → 날씨 좋은 Day 3으로 이동
- ✅ 비오는 날 → 실내 활동 배치
- ✅ 모든 날에 Plan B 준비

---

### Phase 3: 스마트 예산 계산 (1초)

**총 예산: 500,000원**
**여행 기간: 3박 4일**

#### 기본 예산 배분

| 항목 | 총액 | 비율 | 1일 평균 |
|-----|------|------|---------|
| 숙박 (3박) | 150,000원 | 30% | 50,000원 |
| 식비 | 125,000원 | 25% | 31,250원 |
| 교통 | 75,000원 | 15% | 18,750원 |
| 관광 | 100,000원 | 20% | 25,000원 |
| 쇼핑 | 25,000원 | 5% | 6,250원 |
| 기타 | 25,000원 | 5% | 6,250원 |
| **합계** | **500,000원** | **100%** | **125,000원** |

#### 세부 최적화

**1️⃣ 숙박 (₩150,000 / 3박)**
- 게스트하우스: ₩45,000-50,000/박
- 예약 사이트: 호스텔월드, 에어비앤비
- 💡 절약 팁: 도미토리 선택 시 ₩30,000대

**2️⃣ 식비 조정 (₩125,000 → ₩140,000)**

| 구분 | 원래 계획 | 조정 후 | 차액 |
|-----|----------|---------|------|
| Day 1 | 58,000원 | 58,000원 | 0 |
| Day 2 | 73,000원 | 68,000원 | -5,000 |
| Day 3 | 46,000원 | 46,000원 | 0 |
| Day 4 | 18,000원 | 18,000원 | 0 |
| **합계** | **195,000원** | **190,000원** | **-5,000** |

**⚠️ 예산 초과 발생!**
- 식비 예산 ↑ 140,000원 (+15,000원)
- 쇼핑 예산 ↓ 10,000원
- 기타 예산 ↓ 5,000원

**3️⃣ 교통 (₩75,000)**
- 제주패스 4일권: ₩20,000
- 공항 택시: ₩10,000
- 예비 (긴급 택시): ₩45,000

**4️⃣ 관광 (₩100,000)**
- 성산일출봉: ₩5,000
- 제주민속촌: ₩15,000
- 한라수목원: 무료
- 체험 활동: ₩30,000
- 예비: ₩50,000

#### 최종 예산 배분

| 항목 | 조정 후 | 변동 |
|-----|---------|------|
| 숙박 | 150,000원 | - |
| 식비 | 140,000원 | ⬆ +15,000 |
| 교통 | 75,000원 | - |
| 관광 | 100,000원 | - |
| 쇼핑 | 15,000원 | ⬇ -10,000 |
| 기타 | 20,000원 | ⬇ -5,000 |
| **합계** | **500,000원** | **0** |

---

### Phase 4: 최종 일정표 생성 (2초)

**GPT-4에 모든 정보 통합 요청**

**입력 데이터:**
- ✅ D-Day: 44일
- ✅ 날씨: [Day1 비30%, Day2 강풍, Day3 맑음, Day4 맑음]
- ✅ 맛집: [올레국수, 해녀의 집, 동문시장]
- ✅ 명소: [성산일출봉, 민속촌, 수목원]
- ✅ 안전: [강풍 주의, 체감온도 영하]
- ✅ 예산: 500,000원 (배분 완료)
- ✅ 최적화: 날씨 기반 일정 조정 완료

**최종 출력 예시:**

---

# ✈️ 제주도 3박 4일 여행 완전 계획서

## 📅 여행 정보

- **날짜:** 2025년 1월 15일 ~ 1월 18일
- **D-Day:** 44일 남음 🔔
- **예산:** 500,000원
- **목적:** 힐링 & 해산물 맛집 투어
- **교통:** 대중교통 (제주패스 권장)

---

## ⚠️ 안전 정보 (중요!)

### 🌬️ 위험 요소

1. **강풍 주의보** (평균 15m/s)
   - → 성산일출봉 등반은 Day 3(바람 약한 날)로 조정

2. **체감온도 영하** (기온 7도, 체감 0도)
   - → 2시간마다 실내 휴식 필수

3. **등산로 결빙**
   - → 미끄럼방지 신발 또는 아이젠 필요

4. **해안가 파도 높음** (2-3m)
   - → 안전선 준수

### 🎒 필수 준비물
- ✅ 두꺼운 패딩
- ✅ 목도리 & 장갑 (방풍 기능)
- ✅ 등산화 or 미끄럼방지 신발
- ✅ 보온병 & 핫팩 여러 개
- ✅ 우산 (소나기 대비)

### 🚨 비상 연락처
- **긴급:** 112 / 119
- **관광경찰:** 064-710-6665
- **제주대병원:** 064-717-1114

---

## 💰 예산 배분

| 항목 | 총액 | 1일 평균 |
|-----|------|---------|
| 숙박 (3박) | 150,000원 | 50,000원 |
| 식비 | 140,000원 | 35,000원 |
| 교통 | 75,000원 | 18,750원 |
| 관광 | 100,000원 | 25,000원 |
| 쇼핑 | 15,000원 | 3,750원 |
| 기타 | 20,000원 | 5,000원 |
| **합계** | **500,000원** | **125,000원** |

### 💡 예산 절약 팁
- 제주패스 4일권: ₩20,000 (버스 무제한)
- 게스트하우스: 1박 4-5만원대
- 동문시장: 가성비 좋은 해산물

---

## 📆 상세 일정

### Day 1 (1월 15일, 수요일) - 도착 & 시내 탐방

**날씨:** 흐림, 소나기 30% ☁️🌧️

| 시간 | 활동 | 장소 | 교통 | 비용 |
|-----|------|------|------|------|
| 09:00 | 제주 공항 도착 | 제주국제공항 | - | - |
| 09:30 | 숙소 체크인 | 제주시 게스트하우스 | 택시 | 5,000원 |
| 11:00 | 점심 | 동문시장 해산물거리 | 100번 버스 | 20,000원 |
| 13:00 | 시장 구경 | 동문시장 | 도보 | 0원 |
| 15:00 | 제주민속촌 | 민속촌 | 181번 버스 | 15,000원 |
| 18:00 | 저녁 | 제주시내 식당 | 버스 | 18,000원 |
| 20:00 | 숙소 복귀 | - | 버스 | 0원 |

**💰 Day 1 예상 비용:** 58,000원

**Plan B (비가 많이 올 경우):**
- 아쿠아플라넷 제주 (실내)
- 쇼핑센터 투어

---

### Day 2 (1월 16일, 목요일) - 동부권 탐방

**날씨:** 맑음, 강풍 주의보 ☀️💨

| 시간 | 활동 | 장소 | 교통 | 비용 |
|-----|------|------|------|------|
| 08:00 | 아침 식사 | 숙소 근처 카페 | 도보 | 8,000원 |
| 09:30 | 섭지코지 산책 | 섭지코지 | 201번 버스 | 0원 |
| 12:00 | 점심 | 올레국수 (전복죽) | 도보 | 12,000원 |
| 14:00 | 카페 휴식 | 해안가 카페 | 도보 | 8,000원 |
| 16:00 | 구좌 해안 드라이브 | - | 버스 | 0원 |
| 18:30 | 저녁 (특별식) | 해녀의 집 (활어회) | 201번 버스 | 45,000원 |
| 21:00 | 숙소 복귀 | - | 버스 | 0원 |

**💰 Day 2 예상 비용:** 73,000원

**⚠️ 주의사항:**
- 강풍으로 성산일출봉 등반은 Day 3으로 연기
- 해안가 산책 시 안전선 준수

**Plan B (강풍 심할 경우):**
- 아쿠아리움
- 실내 박물관 투어

---

### Day 3 (1월 17일, 금요일) - 야외 활동 집중

**날씨:** 맑음, 바람 약함 ☀️ ⭐ 최적!

| 시간 | 활동 | 장소 | 교통 | 비용 |
|-----|------|------|------|------|
| 07:00 | 아침 식사 | 숙소 근처 | 도보 | 8,000원 |
| 08:30 | 성산일출봉 등반 | 성산일출봉 | 201번 버스 | 5,000원 |
| 11:00 | 점심 | 성산 근처 식당 | 도보 | 15,000원 |
| 13:00 | 한라수목원 산책 | 한라수목원 | 475번 버스 | 0원 |
| 16:00 | 카페 휴식 | 수목원 근처 카페 | 도보 | 5,000원 |
| 18:00 | 저녁 | 제주시 흑돼지거리 | 버스 | 18,000원 |
| 20:00 | 숙소 복귀 | - | 버스 | 0원 |

**💰 Day 3 예상 비용:** 51,000원

**💡 포인트:**
- 날씨 가장 좋은 날, 야외 활동 집중
- 성산일출봉 등반 최적 조건

**Plan B (체력 부족 시):**
- 성산일출봉만 등반하고 수목원은 패스
- 숙소에서 휴식

---

### Day 4 (1월 18일, 토요일) - 출발

**날씨:** 맑음 ☀️

| 시간 | 활동 | 장소 | 교통 | 비용 |
|-----|------|------|------|------|
| 08:00 | 아침 식사 | 숙소 근처 | 도보 | 8,000원 |
| 09:30 | 체크아웃 | - | - | 0원 |
| 10:00 | 기념품 쇼핑 | 이마트 or 신라면세점 | 버스 | 15,000원 |
| 12:00 | 점심 | 공항 근처 식당 | 버스 | 10,000원 |
| 14:00 | 공항 이동 | 제주국제공항 | 버스 | 0원 |
| 15:00 | 출발 | - | - | - |

**💰 Day 4 예상 비용:** 33,000원

---

## 🍽️ 맛집 추천 리스트

### 해산물 전문

1. **올레국수** ⭐⭐⭐⭐⭐
   - 전복죽, 성게미역국
   - ₩12,000
   - 📍 성산읍

2. **해녀의 집** ⭐⭐⭐⭐⭐
   - 활어회 세트
   - ₩45,000
   - 📍 구좌읍

3. **동문시장** ⭐⭐⭐⭐
   - 각종 해산물
   - ₩20,000
   - 📍 제주시

---

## 💡 여행 팁

### 교통
- 제주패스 4일권 구매 (₩20,000)
- 버스 무제한 + 관광지 할인
- 약 30,000원 절약 효과

### 날씨
- 강풍 예보 확인 (기상청 앱)
- 2시간마다 실내 휴식
- 패딩 & 방한용품 필수

### 안전
- 여행자 보험 가입
- 긴급 시 112 (무료)
- 혼자 등산 자제

---

## 📊 총 예산 집계

| 항목 | 예산 | 실제 사용 | 차액 |
|-----|------|----------|------|
| 숙박 | 150,000원 | 150,000원 | 0원 |
| 식비 | 140,000원 | 172,000원 | -32,000원 |
| 교통 | 75,000원 | 30,000원 | +45,000원 |
| 관광 | 100,000원 | 50,000원 | +50,000원 |
| 쇼핑 | 15,000원 | 15,000원 | 0원 |
| 기타 | 20,000원 | 13,000원 | +7,000원 |
| **합계** | **500,000원** | **430,000원** | **+70,000원** |

**✅ 예산 내 성공!**
**여유 자금: 70,000원**

---

## 🎉 마무리

이 계획서대로 여행하시면:
- ✅ 예산 범위 내 여행
- ✅ 안전한 여행
- ✅ 제주 해산물 맛집 투어
- ✅ 날씨 고려한 최적 일정

**즐거운 제주 여행 되세요! 🌴✈️**

---

---

## 💰 비용 분석

### 단일 여행 계획당 비용

| 단계 | 도구 | API 호출 | 토큰 수 | 비용 |
|-----|-----|---------|--------|------|
| 입력 분석 | GPT-4 | 1회 | ~300 | $0.003 |
| D-Day 계산 | Python | 0회 | 0 | $0 |
| **안전 정보** ⭐ | Tavily + GPT-4 | 4회 | ~800 | $0.023 |
| **예산 환산** ⭐ | Python | 0회 | 0 | $0 |
| 날씨 검색 | Tavily | 1회 | - | $0.005 |
| 맛집 검색 | Tavily | 1회 | - | $0.005 |
| 명소 검색 | Tavily | 1회 | - | $0.005 |
| **날씨 최적화** ⭐ | GPT-4 | 1회 | ~1,500 | $0.015 |
| 최종 일정 생성 | GPT-4 | 1회 | ~3,000 | $0.030 |
| **합계** | | **11회** | **~5,600** | **$0.086 (약 112원)** |

### 기능별 비용 비교

| 버전 | API 호출 | 비용 | 특징 |
|-----|---------|------|------|
| **기본판** | 6회 | $0.038 | 기본 정보만 |
| **고급판** ⭐ | 11회 | $0.086 | 안전정보 + 최적화 |
| **증가율** | +83% | +126% | 기능 2배 증가 |

---

## 🎯 핵심 차별점

### 기본 vs 고급 비교

| 항목 | 기본 여행 비서 | 고급 여행 비서 ⭐ |
|-----|-------------|-----------------|
| **안전 정보** | ❌ 없음 | ✅ 위험 요소 분석 |
| **환율 환산** | ❌ 없음 | ✅ 실시간 환율 |
| **일정 최적화** | ⚠️ 수동 | ✅ 날씨 기반 자동 |
| **플랜 B** | ❌ 없음 | ✅ 모든 날 대체 계획 |
| **비상 연락처** | ❌ 없음 | ✅ 포함 |
| **API 호출** | 6회 | 11회 |
| **비용** | $0.038 | $0.086 |

---

## 🚀 확장 가능 기능

### Level 1 (현재 구현) ✅

- ✅ D-Day 계산
- ✅ 안전 정보 수집
- ✅ 환율 기반 예산
- ✅ 날씨 검색
- ✅ 맛집/명소 검색
- ✅ 날씨 기반 최적화
- ✅ 위험 회피
- ✅ 완전한 일정표

### Level 2 (추가 가능)

- 항공권 가격 비교
- 숙소 예약 연동 (Booking.com API)
- 실시간 교통 정보 (Google Maps API)
- 할인/쿠폰 정보
- 리뷰 분석 (별점 높은 곳 추천)

### Level 3 (AI 고도화)

- 사용자 취향 학습
- 과거 여행 데이터 기반 추천
- 혼잡도 예측 (명소별 방문 시간)
- 사진 스팟 추천
- 실시간 일정 조정 (날씨 변경 시)

---

## ✅ 결론

### 해커톤 경쟁력

이 시스템으로 해커톤에서 **최고 점수** 달성 가능! 🏆

- ✅ **실용성:** 실제 사용 가능한 여행 계획
- ✅ **안전성:** 위험 요소 사전 파악
- ✅ **기술력:** 9개 Tool 통합
- ✅ **차별화:** 날씨 기반 최적화
- ✅ **완성도:** 8페이지 완전한 계획서

### 핵심 강점

1. **안전 우선:** 위험 요소 실시간 분석
2. **최적화:** 날씨 기반 자동 일정 조정
3. **실용성:** 예산 범위 내 현실적 계획
4. **완성도:** Plan B까지 제공

**화이팅! 🚀**
